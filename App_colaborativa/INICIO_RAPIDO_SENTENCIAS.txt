üöÄ INICIO R√ÅPIDO: AGREGAR SENTENCIAS AL SISTEMA
================================================

üìã **FLUJO SIMPLIFICADO EN 3 PASOS:**

## üìÅ PASO 1: AGREGAR ARCHIVOS

**Opci√≥n A - Formato TXT (Recomendado para rapidez):**
```
Copiar:  tu_sentencia.txt
Destino: colaborative\data\pdfs\sentencias_texto\
```

**Opci√≥n B - Formato PDF:**
```
Copiar:  tu_sentencia.pdf  
Destino: colaborative\data\pdfs\sentencias_pdf\
```

## üìù PASO 2: EDITAR METADATOS

Abrir: `colaborative\data\pdfs\general\metadatos_sentencias.json`

**Agregar entrada (versi√≥n m√≠nima):**
```json
{
  "_INSTRUCCIONES": { ... },
  "_EJEMPLO_COMPLETO": { ... },
  "_EJEMPLO_MINIMO": { ... },
  
  "tu_sentencia.pdf": {
    "tribunal": "CSJN",
    "fecha_sentencia": "2024-11-11",
    "materia": "Civil"
  }
}
```

**O versi√≥n completa (recomendada):**
```json
{
  "_INSTRUCCIONES": { ... },
  "_EJEMPLO_COMPLETO": { ... },
  "_EJEMPLO_MINIMO": { ... },
  
  "tu_sentencia.pdf": {
    "tribunal": "Corte Suprema de Justicia de la Naci√≥n",
    "fecha_sentencia": "2024-11-11",
    "materia": "Civil - Responsabilidad",
    "temas": ["nexo causal", "da√±o moral"],
    "formas_razonamiento": ["deductivo", "anal√≥gico"],
    "citaciones": {
      "doctrina": ["Borda, Obligaciones, T.II"],
      "jurisprudencia": ["CSJN, 'Aquino', 2004"]
    }
  }
}
```

‚ö†Ô∏è **IMPORTANTE:** No olvides la coma entre entradas

## ‚öôÔ∏è PASO 3: PROCESAR

**Opci√≥n A - Centro de Control (Recomendado):**
```powershell
python colaborative\scripts\centro_control_maestro.py
```
Luego elegir:
- Opci√≥n S (RAG Sentencias)  
- Opci√≥n S1 (Ingestar corpus)

**Opci√≥n B - Script directo:**
```powershell
python colaborative\scripts\ingesta_sentencias.py
```

## ‚úÖ VERIFICAR RESULTADO

```powershell
python -c "import sqlite3; conn=sqlite3.connect('colaborative/bases_rag/cognitiva/pensamiento_integrado_v2.db'); cur=conn.cursor(); cur.execute('SELECT COUNT(*) FROM rag_sentencias_chunks'); print(f'Chunks procesados: {cur.fetchone()[0]}')"
```

================================================================

üìö **EJEMPLO COMPLETO PASO A PASO**

### Escenario: Agregar fallo "CSJN_Responsabilidad_2024.pdf"

**1. Copiar archivo:**
```powershell
Copy-Item "C:\Mis_Fallos\CSJN_Responsabilidad_2024.pdf" -Destination "colaborative\data\pdfs\sentencias_pdf\"
```

**2. Editar JSON:**
```powershell
notepad colaborative\data\pdfs\general\metadatos_sentencias.json
```

Agregar al final (antes del √∫ltimo `}`):
```json
,
"CSJN_Responsabilidad_2024.pdf": {
  "tribunal": "Corte Suprema de Justicia de la Naci√≥n",
  "fecha_sentencia": "2024-05-20",
  "materia": "Civil - Responsabilidad del Estado",
  "temas": ["responsabilidad objetiva", "nexo causal", "quantum indemnizatorio"]
}
```

**3. Procesar:**
```powershell
python colaborative\scripts\ingesta_sentencias.py
```

**4. Ver resultado en webapp:**
```powershell
.\INICIAR.bat
```
Navegar a: http://127.0.0.1:5002/cognitivo

================================================================

‚ö†Ô∏è **ERRORES COMUNES Y SOLUCIONES**

### Error 1: "Archivo de metadatos no encontrado"
**Causa:** JSON no existe o est√° en ubicaci√≥n incorrecta
**Soluci√≥n:** 
```powershell
# Verificar que existe
Test-Path "colaborative\data\pdfs\general\metadatos_sentencias.json"
# Debe retornar: True
```

### Error 2: "JSON inv√°lido" o error de sintaxis
**Causa:** Falta coma, llave mal cerrada, comillas incorrectas
**Soluci√≥n:**
```powershell
# Validar JSON
python -c "import json; json.load(open('colaborative/data/pdfs/general/metadatos_sentencias.json', encoding='utf-8')); print('‚úÖ JSON v√°lido')"
```

### Error 3: "Texto vac√≠o o muy corto"
**Causa:** PDF no se pudo extraer o TXT no existe
**Soluci√≥n:**
```powershell
# Verificar que el archivo existe
Test-Path "colaborative\data\pdfs\sentencias_pdf\tu_sentencia.pdf"
# O
Test-Path "colaborative\data\pdfs\sentencias_texto\tu_sentencia.txt"
```

### Error 4: Nombre de archivo no coincide
**Causa:** Nombre en JSON diferente al nombre del archivo real
**Ejemplo incorrecto:**
- JSON: `"Fallo_CSJN.pdf"`
- Archivo: `"fallo_csjn.pdf"` (min√∫sculas)
**Soluci√≥n:** Asegurar coincidencia EXACTA (may√∫sculas/min√∫sculas)

================================================================

üéØ **CAMPOS DEL JSON - REFERENCIA R√ÅPIDA**

### M√≠nimos (obligatorios):
```json
{
  "tribunal": "Nombre del tribunal",
  "fecha_sentencia": "YYYY-MM-DD",
  "materia": "√Årea del derecho"
}
```

### Recomendados:
```json
{
  "tribunal": "C√°mara Nacional Civil, Sala A",
  "fecha_sentencia": "2024-11-11",
  "materia": "Civil - Responsabilidad",
  "temas": ["tema1", "tema2"],
  "formas_razonamiento": ["deductivo", "anal√≥gico"]
}
```

### Completos (an√°lisis profundo):
```json
{
  "autor": "Dr. Juan P√©rez",
  "tribunal": "CSJN",
  "jurisdiccion": "Nacional",
  "fecha_sentencia": "2024-11-11",
  "caratula": "Garc√≠a c/ Estado s/ da√±os",
  "numero_expediente": "CSJ 123/2024",
  "materia": "Civil - Responsabilidad del Estado",
  "temas": ["nexo causal", "da√±o moral", "quantum"],
  "cuestiones_introductorias": ["¬øExiste responsabilidad objetiva?"],
  "formas_razonamiento": ["deductivo", "teleol√≥gico"],
  "citaciones": {
    "doctrina": ["Borda, Obligaciones, T.II"],
    "jurisprudencia": ["CSJN, 'Aquino', 2004"]
  }
}
```

================================================================

üí° **TIPS Y MEJORES PR√ÅCTICAS**

1. **Nombres de archivo descriptivos:**
   ‚úÖ `CSJN_Responsabilidad_Estado_2024.pdf`
   ‚ùå `fallo123.pdf`

2. **Validar JSON antes de procesar:**
   ```powershell
   python -c "import json; json.load(open('colaborative/data/pdfs/general/metadatos_sentencias.json', encoding='utf-8')); print('‚úÖ OK')"
   ```

3. **Usar TXT cuando sea posible:**
   - Extracci√≥n m√°s r√°pida y precisa
   - Menor uso de recursos
   - Pre-procesar PDFs escaneados con OCR

4. **Backup del JSON:**
   ```powershell
   Copy-Item "colaborative\data\pdfs\general\metadatos_sentencias.json" -Destination "colaborative\data\pdfs\general\metadatos_sentencias.backup.json"
   ```

5. **Agregar sentencias de a poco:**
   - Procesar 1-3 sentencias a la vez
   - Verificar que funciona antes de agregar m√°s
   - Facilita detecci√≥n de errores

================================================================

üìñ **DOCUMENTACI√ìN ADICIONAL**

- **GUIA_METADATOS_SENTENCIAS.txt** - Explicaci√≥n detallada de cada campo
- **DONDE_AGREGAR_SENTENCIAS.txt** - Gu√≠a de directorios y estructura
- **VERIFICACION_SISTEMA_SENTENCIAS.txt** - Auditor√≠a t√©cnica completa

================================================================

‚úÖ **CHECKLIST ANTES DE PROCESAR**

- [ ] Archivo PDF/TXT copiado a sentencias_pdf/ o sentencias_texto/
- [ ] Entrada agregada al metadatos_sentencias.json
- [ ] Nombre en JSON coincide EXACTAMENTE con nombre de archivo
- [ ] JSON validado (sin errores de sintaxis)
- [ ] Campos m√≠nimos completados (tribunal, fecha, materia)
- [ ] Fecha en formato YYYY-MM-DD
- [ ] Comas entre entradas correctas

================================================================

Fecha de creaci√≥n: 11 de noviembre de 2025
Sistema: RAG Cognitivo v7.8 - M√≥dulo de Sentencias Judiciales

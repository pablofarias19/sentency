SISTEMA RAG ENRIQUECIDO CON PERFILES COGNITIVO-AUTORALES (PCA)
================================================================

ğŸ”§ CONFIGURACIÃ“N INICIAL (ejecutar una sola vez):
python -m venv .venv
.venv\Scripts\Activate.ps1

# Instalar dependencias y configurar sistema
python setup_pca.py

# Si ya tienes los modelos base instalados (opcional):
python download_models.py

ğŸš€ USAR SISTEMA ENRIQUECIDO:
1. Activar entorno virtual:
   .venv\Scripts\Activate.ps1

2. Configurar API de Gemini (opcional pero recomendado):
   - Copia .env.example a .env
   - AÃ±ade tu GOOGLE_API_KEY=tu_clave_aqui

3. INGESTA ENRIQUECIDA (nueva funcionalidad):
   - Coloca PDFs en: C:\Users\USUARIO\Programacion\modelos\App_colaborativa\colaborative\data\pdfs\general\
   - Ejecuta: python colaborative/scripts/ingesta_enriquecida.py
   
4. Iniciar webapp (con apertura automÃ¡tica de navegador):
   python colaborative/scripts/end2end_webapp.py
   
   O usar script de inicio automÃ¡tico:
   - Windows: .\iniciar_sistema.bat
   - PowerShell: .\iniciar_sistema.ps1
   
5. El navegador se abrirÃ¡ automÃ¡ticamente en:
   http://127.0.0.1:5002

ğŸ¯ MEJORAS IMPLEMENTADAS:

âœ… 1. PERFIL COGNITIVO-AUTORAL (PCA):
   - Detecta marco de referencia (jurÃ­dico, filosÃ³fico, econÃ³mico, etc.)
   - Identifica estrategia intelectual (analÃ­tica, crÃ­tica, propositiva, etc.)
   - Extrae autores mencionados y motivos intelectuales
   - Clasifica metodologÃ­a jurÃ­dica predominante

âœ… 2. RAG DUAL - DOS BASES VECTORIALES:
   - FAISS_A: Contenido tradicional (fragmentos de texto)
   - FAISS_B: Perfiles cognitivos ("firmas intelectuales")

âœ… 3. GEMELOS COGNITIVOS:
   - Busca documentos con perfiles similares para enriquecer prompts
   - Mantiene coherencia epistemolÃ³gica en las respuestas
   - Sugiere marcos y estrategias afines del corpus

âœ… 4. AUTOAPRENDIZAJE MEJORADO:
   - Registra estadÃ­sticas de ingesta documental
   - EvalÃºa calidad de respuestas con Gemini
   - Adapta prompts basado en Ã©xitos/fallos previos
   - Trazabilidad completa del proceso

ğŸ” RUTAS PRINCIPALES:
- /                    â†’ Consultas doctrinarias con contexto cognitivo
- /autoevaluaciones    â†’ Historial de aprendizaje y estadÃ­sticas
- /refinamientos       â†’ Historial de refinamientos (si existe)

ğŸ§  FLUJO ENRIQUECIDO:
1. Usuario hace consulta
2. Sistema busca contenido relevante (FAISS_A)
3. Sistema busca perfiles afines (FAISS_B) â†’ "gemelos cognitivos"
4. Contexto cognitivo + autoaprendizaje â†’ prompt enriquecido
5. GeneraciÃ³n con Gemini (o Flan-T5 fallback)
6. AutoevaluaciÃ³n y registro para mejora continua

ğŸ“Š ARCHIVOS CLAVE AÃ‘ADIDOS:
- colaborative/scripts/extractor_pdf_enriquecido.py
- colaborative/scripts/profiles_rag.py
- colaborative/scripts/ingesta_enriquecida.py
- colaborative/scripts/config_pca.py
- setup_pca.py

ğŸ’¡ PARA PROBAR:
1. Ejecuta setup_pca.py (configuraciÃ³n inicial)
2. Coloca algunos PDFs jurÃ­dicos en colaborative/data/pdfs/general/
3. Ejecuta ingesta_enriquecida.py para procesarlos
4. Inicia la webapp y haz consultas
5. Ve a /autoevaluaciones para ver estadÃ­sticas

âš¡ PROBLEMAS RESUELTOS:
âœ… 1. Ahora se pueden manejar mÃºltiples bases RAG especializadas
âœ… 2. IA genera informes con coherencia cognitiva y autoevaluaciÃ³n
âœ… 3. InformaciÃ³n estructurada con trazabilidad completa
âœ… 4. Procesamiento optimizado con feedback visual

ULTIMOS REQUERIMENTOS - PARA LAS BASES METACOGNITIVAS
pip install flask google-generativeai sentence-transformers faiss-cpu PyMuPDF transformers torch numpy scikit-learn python-docx pyyaml lxml Pillow requests tqdm colorama jinja2 markupsafe itsdangerous click blinker tabulate spacy

ğŸ‰ SISTEMA FINALIZADO - 8 NOV 2025 ğŸ‰
=======================================

âœ… SISTEMA RAG COGNITIVO COMPLETO IMPLEMENTADO:

1. RAG Tradicional Mejorado âœ…
2. Perfil Cognitivo-Autoral (PCA) âœ…  
3. ğŸ§  Sistema ANALYSER Cognitivo âœ…
4. ğŸ§  ANALYSER MÃ‰TODO - DetecciÃ³n Autoral Avanzada âœ…
5. ğŸ›ï¸ DETECTOR ARISTOTÃ‰LICO - AnÃ¡lisis SilogÃ­stico Completo âœ…

ğŸŒ WEBAPP OPERATIVA: http://127.0.0.1:5002

RUTAS ACTIVAS:
- /           â†’ RAG principal con contexto cognitivo
- /cognitivo  â†’ ğŸ§  Sistema ANALYSER especializado
- /radar      â†’ ğŸ“Š Radar Cognitivo Interactivo (NUEVO)
- /perfiles   â†’ Panel PCA cognitivo-autoral
- /autoevaluaciones â†’ Sistema de aprendizaje

ğŸ§  ANALYSER INCLUYE:
- 8 Rasgos Cognitivos Especializados
- BÃºsqueda por Similitud Cognitiva  
- AnÃ¡lisis por Autor
- ComparaciÃ³n entre Autores
- Dashboard de EstadÃ­sticas Interactivo

ğŸ“Š RADAR COGNITIVO PLUS INCLUYE:
- VisualizaciÃ³n GrÃ¡fica Radar Interactiva
- Plotly Charts Profesionales
- Radar Individual por Autor
- Radar Comparativo Multi-Autor Avanzado (NUEVO)
- ğŸ§­ Matriz de Similitud Cognitiva (NUEVO)
- Heatmap de Convergencias Doctrinarias (NUEVO)
- AnÃ¡lisis de Distancias Cognitivas (NUEVO)
- Autores Disponibles con EstadÃ­sticas

ğŸ“ ARCHIVOS IMPLEMENTADOS:
- vectorizador_cognitivo.py âœ…
- analizador_perfiles.py âœ…
- ingesta_cognitiva.py âœ… (actualizada con ANALYSER COMPLETO)
- radar_cognitivo.py âœ…
- radar_cognitivo_comparador.py âœ… (NUEVO)
- matriz_cognitiva.py âœ… (NUEVO)
- detector_autor_y_metodo.py âœ… (NUEVO - ANALYSER MÃ‰TODO)
- detector_razonamiento_aristotelico.py âœ… (NUEVO - DETECTOR ARISTOTÃ‰LICO)
- actualizar_db_analyser.py âœ… (NUEVO - MigraciÃ³n DB completa)
- end2end_webapp.py (actualizado con 3 mÃ³dulos radar) âœ…
- Base de datos cognitiva âœ…

ğŸš€ INICIO RÃPIDO:
===============
1. Doble clic en: iniciar_sistema.bat
   - Activa entorno automÃ¡ticamente
   - Abre navegador automÃ¡ticamente
   - Muestra todas las rutas disponibles

2. O desde PowerShell:
   .\iniciar_sistema.ps1

3. O mÃ©todo manual:
   .venv\Scripts\Activate.ps1
   python colaborative/scripts/end2end_webapp.py

ğŸš€ LISTO PARA USO INMEDIATO

PARA PARA PROCESAR DATOS 
ğŸ“• Archivos PDF (principalmente)
ğŸ“„ Documentos Word (.docx)
ğŸ“ Archivos de texto (.txt)
Contenido JurÃ­dico Ideal:
ğŸ“š Doctrina jurÃ­dica (libros, artÃ­culos acadÃ©micos)
âš–ï¸ Jurisprudencia (fallos, sentencias)
ğŸ“‹ CÃ³digos y leyes (textos normativos)
ğŸ“ Papers acadÃ©micos jurÃ­dicos
ğŸ“– Manuales de derecho
ğŸ“° ArtÃ­culos de revistas jurÃ­dicas
ğŸ§  Â¿QuÃ© extrae el sistema de cada documento?
AnÃ¡lisis Cognitivo-Autoral:
ğŸ‘¤ Autor detectado automÃ¡ticamente
ğŸ“š Tipo de pensamiento (analÃ­tico, crÃ­tico, dogmÃ¡tico, etc.)
ğŸ­ Tono del discurso (formal, acadÃ©mico, prÃ¡ctico)
ğŸ“Š 8 Rasgos cognitivos especializados:
Los 8 Rasgos que Analiza:
ğŸ“ Formalismo jurÃ­dico - Uso de citas legales formales
ğŸ¨ Creatividad conceptual - Originalidad en argumentaciÃ³n
ğŸ”’ Dogmatismo - Rigidez vs flexibilidad doctrinal
ğŸ”¬ Empirismo evidencial - Uso de datos y casos concretos
ğŸŒ Interdisciplinariedad - IntegraciÃ³n de otras disciplinas
ğŸ§© Nivel de abstracciÃ³n - Complejidad conceptual
ğŸ“ Complejidad sintÃ¡ctica - Estructura del lenguaje
âš–ï¸ Uso de jurisprudencia - Referencias a precedentes

ğŸ§  ANALYSER MÃ‰TODO - NUEVA FUNCIONALIDAD AVANZADA
==================================================

âœ… DETECCIÃ“N AUTOMÃTICA DE AUTORES:
- ğŸ‘¤ Autor principal con nivel de confianza
- ğŸ“š Autores citados separados del autor principal
- ğŸ” Usa metadatos PDF + NER + patrones de portada
- ğŸ“ AnÃ¡lisis de notas al pie y bibliografÃ­a

âœ… CLASIFICACIÃ“N DE RAZONAMIENTO JURÃDICO:
- ğŸ§­ Deductivo, Inductivo, AnalÃ³gico, TeleolÃ³gico
- âš–ï¸ SistÃ©mico, Autoritativo, A contrario
- ğŸ¯ Consecuencialista con scores de confianza
- ğŸ“Š Top 3 tipos de razonamiento detectados

âœ… ANÃLISIS RETÃ“RICO ARISTOTÃ‰LICO:  
- ğŸ­ Ethos: Autoridad y credibilidad
- â¤ï¸ Pathos: Componente emocional  
- ğŸ§  Logos: Estructura lÃ³gica del argumento
- ğŸ“ˆ MÃ©tricas cuantificadas y normalizadas

âœ… MÃ‰TRICAS TÃ‰CNICAS EXTENDIDAS:
- ğŸ“ Complejidad sintÃ¡ctica avanzada
- ğŸ›ï¸ Nivel tÃ©cnico con latinismos
- âš–ï¸ Densidad de citas legales
- ğŸ“– Referencias doctrinarias

ğŸ›ï¸ DETECTOR ARISTOTÃ‰LICO - ANÃLISIS SILOGÃSTICO AVANZADO
=========================================================

âœ… MODALIDAD EPISTÃ‰MICA:
- ğŸ¯ ApodÃ­ctico: Necesariamente verdadero, demostrable
- ğŸ¤” DialÃ©ctico: Probable, opiniÃ³n comÃºn, razonable
- ğŸ­ RetÃ³rico: Persuasivo, evidente para todos
- âš ï¸ SofÃ­stico: Aparentemente vÃ¡lido pero falaz

âœ… ESTRUCTURA SILOGÃSTICA CLÃSICA:
- ğŸ“ Barbara (AAA-1): Todos A son B, Todos B son C â†’ Todos A son C
- âš¡ Cesare (EAE-2): NingÃºn A es B, Todo C es A â†’ NingÃºn C es B
- ğŸ”¹ Darapti (AAI-3): Todo A es B, Todo A es C â†’ AlgÃºn B es C
- ğŸ”¸ Bramantip (AAI-4): Todo A es B, Todo B es C â†’ AlgÃºn C es A
- ğŸ“Š Ferio (EIO-1), Camestres (AEE-2) y otras figuras

âœ… RAZONAMIENTO EXPANDIDO:
- ğŸ§  Abductivo: Mejor explicaciÃ³n, hipÃ³tesis mÃ¡s plausible
- ï¿½ AnalÃ³gico: Por analogÃ­a, semejanza, comparaciÃ³n
- ğŸ¯ TeleolÃ³gico: Finalidad, propÃ³sito, funciÃ³n social
- ğŸ—ï¸ SistÃ©mico: Coherencia, estructura, articulaciÃ³n normativa

âœ… CONECTORES LÃ“GICOS DETECTADOS:
- â¡ï¸ "Por tanto", "En consecuencia", "Se concluye"
- ğŸ”€ "Si... entonces...", "Dado que", "Porque"
- ğŸ“Š Cuantificadores: "Todos", "Algunos", "NingÃºn"
- ğŸ”— AnÃ¡lisis de estructura argumentativa completa

ï¿½ğŸ”§ INTEGRACIÃ“N AUTOMÃTICA:
- Se activa automÃ¡ticamente en ingesta_cognitiva.py
- Compatible con sistema FAISS existente
- Exporta a SQLite con nuevos campos aristotÃ©licos
- Visualizable en radar cognitivo extendido

ğŸš€ COMANDOS PARA ACTIVAR ANALYSER COMPLETO:
1. python colaborative\scripts\actualizar_db_analyser.py
2. python colaborative\scripts\ingesta_cognitiva.py
3. .\iniciar_sistema.bat

âš¡ RESULTADOS ARISTOTÃ‰LICOS:
- DetecciÃ³n precisa de estructuras silogÃ­sticas
- ClasificaciÃ³n automÃ¡tica de modalidad epistÃ©mica
- AnÃ¡lisis de conectores lÃ³gicos y cuantificadores
- Perfiles cognitivos aristotÃ©licos completos

ğŸš€ PROCESO SIMPLIFICADO - UN SOLO COMANDO
==========================================

## CONFIGURACIÃ“N INICIAL (solo una vez):
python -m venv .venv
.venv\Scripts\Activate.ps1
pip install flask google-generativeai sentence-transformers faiss-cpu PyMuPDF transformers torch numpy scikit-learn python-docx pyyaml lxml Pillow requests tqdm colorama jinja2 markupsafe itsdangerous click blinker tabulate spacy

## USO DIARIO - SÃšPER SIMPLE:

### 1. Agregar PDFs:
Coloca archivos PDF en: C:\Users\USUARIO\Programacion\modelos\App_colaborativa\colaborative\data\pdfs\general\

### 2. â­ PROCESAR TODO (UN SOLO COMANDO):
python procesar_todo.py

### 3. Usar sistema:
.\iniciar_sistema.bat

Â¡ESO ES TODO! ğŸ‰

---

âŒ YA NO NECESITAS ejecutar mÃºltiples comandos:
- âŒ actualizar_db_analyser.py  
- âŒ ingesta_cognitiva.py
- âŒ ingesta_enriquecida.py
- âŒ actualizador_integral_bases.py

âœ… SOLO USA: python procesar_todo.py

Este comando Ãºnico:
âœ… Detecta PDFs nuevos automÃ¡ticamente
âœ… Actualiza bases de datos si es necesario  
âœ… Procesa documentos con ANALYSER MÃ‰TODO
âœ… Sincroniza todos los Ã­ndices
âœ… Te dice exactamente quÃ© hacer despuÃ©s

ğŸ’¡ FLUJO SIMPLIFICADO:
1. Agregar PDFs â†’ 2. python procesar_todo.py â†’ 3. .\iniciar_sistema.bat

Â¡SISTEMA UNIFICADO Y SIMPLE!